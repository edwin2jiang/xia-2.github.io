{"version":3,"sources":["webpack:///src/views/MB/pages/detail/GoodsDetail.vue","webpack:///./src/views/MB/pages/detail/GoodsDetail.vue?fabf","webpack:///./src/views/MB/pages/detail/GoodsDetail.vue","webpack:///src/views/MB/components/Card.vue","webpack:///./src/views/MB/components/Card.vue?f534","webpack:///./src/views/MB/components/Card.vue"],"names":["GoodsDetail","name","components","Card","data","sku","this","$route","params","id","current","comments","num","methods","onChange","index","addToCart","item","getGoodsDetail","users","JSON","parse","localStorage","getItem","userInfo","$store","state","$message","showClose","message","type","$router","push","currentUser","filter","console","log","res","isHaveThisGoods","carts","_i","length","i","find","username","indexOf","splice","setItem","stringify_default","commit","onClickBack","go","onClickRight","toPage","user","goods","arr","path","computed","getCartsLength","undefined","goodsDetail","getCarousel","split","slice","getImg","getCarouselLength","getPrice","getTitle","getDetail","created","_this","$axios","url","then","catch","error","detail_GoodsDetail","render","_vm","_h","$createElement","_c","_self","attrs","title","left-text","right-text","left-arrow","on","click-left","click-right","_v","data-id","change","scopedSlots","_u","key","fn","staticClass","_s","proxy","_l","src","_m","hasTitle","rightText","headImg","round","width","height","value","star","size","color","void-icon","void-color","content","datetime","_e","style","borderColor","padding","icon","text","badge","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","components_Card","_t","props"],"mappings":"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","file":"static/js/3.eff747c8ae2a224112d7.js","sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"商品详情\"\r\n      left-text=\"返回\"\r\n      right-text=\"购物车\"\r\n      left-arrow\r\n      @click-left=\"onClickBack\"\r\n      @click-right=\"onClickRight\"\r\n    />\r\n\r\n    <div :data-id=\"getCarousel\">\r\n      <van-swipe @change=\"onChange\">\r\n        <van-swipe-item v-for=\"(item, index) in getCarousel\" :key=\"index\">\r\n          <van-image :src=\"item\"> </van-image>\r\n        </van-swipe-item>\r\n        <template #indicator>\r\n          <div class=\"custom-indicator\">\r\n            {{ current + 1 }}/{{ getCarouselLength }}\r\n          </div>\r\n        </template>\r\n      </van-swipe>\r\n    </div>\r\n\r\n    <div class=\"text\">\r\n      <div class=\"value\">\r\n        <span class=\"rmb\"> ¥ </span>\r\n        <span class=\"value\"> {{ getPrice }} </span>\r\n      </div>\r\n      <div class=\"title van-multi-ellipsis--l2\">\r\n        {{ getTitle }}\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"text box space-between\">\r\n      <div class=\"select\">\r\n        <span class=\"label\">选择</span>\r\n        <span class=\"txt\">请选择颜色分类</span>\r\n      </div>\r\n      <span class=\"icon\"> &gt; </span>\r\n    </div>\r\n\r\n    <Card :hasTitle=\"true\" title=\"商品评论\" rightText=\"查看所有评论\">\r\n      <template #content>\r\n        <div class=\"content\" v-for=\"(item, index) in comments\" :key=\"index\">\r\n          <div class=\"top\">\r\n            <van-image\r\n              :src=\"item === undefined ? '' : item.headImg\"\r\n              round\r\n              width=\"3.2rem\"\r\n              height=\"3.2rem\"\r\n            />\r\n            <span class=\"name inline-block\">\r\n              {{ item === undefined ? '' : item.name }}\r\n            </span>\r\n            <van-rate\r\n              :value=\"item.star\"\r\n              :size=\"25\"\r\n              color=\"#ffd21e\"\r\n              void-icon=\"star\"\r\n              void-color=\"#eee\"\r\n            />\r\n          </div>\r\n          <div class=\"txt van-multi-ellipsis--l2 comment\">\r\n            {{ item === undefined ? '' : item.content }}\r\n          </div>\r\n          <div class=\"time\">\r\n            评论时间：\r\n            {{ item === undefined ? '' : item.datetime }}\r\n          </div>\r\n          <van-divider v-if=\"index !== comments.length - 1\" />\r\n        </div>\r\n      </template>\r\n    </Card>\r\n\r\n    <van-divider\r\n      :style=\"{ color: '#aaa', borderColor: '#bbb', padding: '0 16px' }\"\r\n    >\r\n      到底了\r\n    </van-divider>\r\n\r\n    <van-goods-action>\r\n      <van-goods-action-icon icon=\"chat-o\" text=\"客服\" />\r\n      <van-goods-action-icon\r\n        icon=\"cart-o\"\r\n        text=\"购物车\"\r\n        @click=\"toPage('/MB/cart')\"\r\n        :badge=\"getCartsLength\"\r\n      />\r\n      <van-goods-action-icon icon=\"shop-o\" text=\"店铺\" />\r\n      <van-goods-action-button\r\n        type=\"info\"\r\n        text=\"加入购物车\"\r\n        @click=\"addToCart()\"\r\n      />\r\n    </van-goods-action>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\nimport Card from 'MB/components/Card';\r\n\r\nexport default {\r\n  name: 'GoodsDetail',\r\n  components: {\r\n    Card,\r\n  },\r\n  data() {\r\n    return {\r\n      sku: this.$route.params.id,\r\n      current: 0,\r\n      comments: '',\r\n      num: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    onChange(index) {\r\n      this.current = index;\r\n    },\r\n    addToCart() {\r\n      let item = this.getGoodsDetail;\r\n      item['num'] = this.num;\r\n\r\n      let users = JSON.parse(localStorage.getItem('users'));\r\n      let userInfo = this.$store.state.userInfo;\r\n      if (userInfo === null) {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '尊敬的用户，请您先完成登录!',\r\n          type: 'info',\r\n        });\r\n        this.$router.push('/MB/login?isLogin=true');\r\n      } else {\r\n        // 加载动画\r\n        // this.isShow = true;\r\n        // // 添加类名的方法没有动画结束的时机,这里我直接写了一个定时器,时机和动画时间一致,在图片移动到购物车位置时隐藏\r\n        // setTimeout(() => {\r\n        //   this.isShow = false;\r\n        // }, 1000);\r\n\r\n        // 过滤出当前登录的用户\r\n        let currentUser = users.filter((item) => {\r\n          return item['username'] === userInfo['username'];\r\n        })[0];\r\n        console.log(currentUser);\r\n\r\n        // 检索该用户是否已经将该商品加入购物车\r\n        let res = this.isHaveThisGoods(currentUser, item);\r\n        console.log(res);\r\n        if (res) {\r\n          let carts = currentUser.carts;\r\n          for (let i = 0; i < carts.length; i++) {\r\n            if (carts[i]['sku'] === item['sku']) {\r\n              carts[i]['num'] += item['num'];\r\n            }\r\n          }\r\n          console.log(currentUser.carts);\r\n          currentUser.carts = carts;\r\n        } else {\r\n          currentUser.carts.push(item);\r\n        }\r\n\r\n        this.$store.state.userInfo = currentUser;\r\n\r\n        let i = users.find((item) => item.username == userInfo['username']);\r\n        console.log('该用户对应的索引是' + users.indexOf(i));\r\n\r\n        users.splice(users.indexOf(i), 1, currentUser);\r\n        // 更新本地存储和state中的值\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n        this.$store.commit('updateUsers', users);\r\n      }\r\n    },\r\n    onClickBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    onClickRight() {\r\n      this.toPage('/MB/cart');\r\n    },\r\n    isHaveThisGoods(user, goods) {\r\n      let arr = user.carts.filter((item) => {\r\n        return item['sku'] === goods['sku'];\r\n      });\r\n      console.log(arr);\r\n      if (arr.length === 0) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    toPage(item) {\r\n      this.$router.push({\r\n        path: item,\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    getCartsLength() {\r\n      let userInfo = this.$store.state.userInfo;\r\n      return userInfo === undefined || userInfo === null\r\n        ? 0\r\n        : userInfo.carts.length;\r\n    },\r\n    getGoodsDetail() {\r\n      return this.$route.params.goodsDetail;\r\n    },\r\n    getCarousel() {\r\n      if (this.getGoodsDetail !== undefined) {\r\n        let arr = this.getGoodsDetail['轮播图'].split('/\\r\\n');\r\n        // 处理最后一张图 末尾多 不正确\r\n        arr[arr.length - 1] = arr[arr.length - 1].slice(\r\n          0,\r\n          arr[arr.length - 1].length - 1,\r\n        );\r\n        return arr;\r\n      }\r\n    },\r\n    getImg(index) {\r\n      return this.getCarousel[index];\r\n    },\r\n    getCarouselLength() {\r\n      if (this.getCarousel !== undefined) return this.getCarousel.length;\r\n      else return 0;\r\n    },\r\n    getPrice() {\r\n      if (this.getGoodsDetail !== undefined) {\r\n        return this.getGoodsDetail['价格'];\r\n      }\r\n    },\r\n    getTitle() {\r\n      if (this.getGoodsDetail !== undefined) {\r\n        return this.getGoodsDetail['标题'];\r\n      }\r\n    },\r\n    getDetail() {\r\n      if (this.getGoodsDetail !== undefined) {\r\n        return this.getGoodsDetail['详情HTML'];\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.$axios({\r\n      type: 'get',\r\n      url: 'http://localhost:8080/api/comments',\r\n    })\r\n      .then((res) => {\r\n        console.log(res.data.comments);\r\n        this.comments = res.data.comments.slice(0, 3);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.custom-indicator {\r\n  position: absolute;\r\n  right: 0.5rem;\r\n  bottom: 0.5rem;\r\n  padding: 0.2rem 0.5rem;\r\n  font-size: 1.2rem;\r\n  background: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.text {\r\n  background: #fff;\r\n  padding: 1rem;\r\n  margin: 1rem 0 1rem;\r\n}\r\n\r\n.text .value .rmb {\r\n  font-size: 1.4rem;\r\n}\r\n.text .value {\r\n  color: #ff0036;\r\n  font-size: 2.2rem;\r\n}\r\n\r\n.text .title {\r\n  font-size: 1.4rem;\r\n}\r\n\r\n.text.box {\r\n  display: flex;\r\n}\r\n\r\n.text.box .select .label {\r\n  color: #aaa;\r\n  padding: 0 1.6rem 0 0;\r\n}\r\n\r\n.text.box .icon {\r\n  color: #aaa;\r\n}\r\n\r\n.content {\r\n  font-size: 1.2rem;\r\n}\r\n.content .top {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.content .top .name {\r\n  padding: 0 4rem 0 2rem;\r\n}\r\n.content .comment {\r\n  margin: 0.6rem 0;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/MB/pages/detail/GoodsDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"商品详情\",\"left-text\":\"返回\",\"right-text\":\"购物车\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickBack,\"click-right\":_vm.onClickRight}}),_vm._v(\" \"),_c('div',{attrs:{\"data-id\":_vm.getCarousel}},[_c('van-swipe',{on:{\"change\":_vm.onChange},scopedSlots:_vm._u([{key:\"indicator\",fn:function(){return [_c('div',{staticClass:\"custom-indicator\"},[_vm._v(\"\\n          \"+_vm._s(_vm.current + 1)+\"/\"+_vm._s(_vm.getCarouselLength)+\"\\n        \")])]},proxy:true}])},_vm._l((_vm.getCarousel),function(item,index){return _c('van-swipe-item',{key:index},[_c('van-image',{attrs:{\"src\":item}})],1)}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_c('div',{staticClass:\"value\"},[_c('span',{staticClass:\"rmb\"},[_vm._v(\" ¥ \")]),_vm._v(\" \"),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.getPrice)+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"title van-multi-ellipsis--l2\"},[_vm._v(\"\\n      \"+_vm._s(_vm.getTitle)+\"\\n    \")])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('Card',{attrs:{\"hasTitle\":true,\"title\":\"商品评论\",\"rightText\":\"查看所有评论\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return _vm._l((_vm.comments),function(item,index){return _c('div',{key:index,staticClass:\"content\"},[_c('div',{staticClass:\"top\"},[_c('van-image',{attrs:{\"src\":item === undefined ? '' : item.headImg,\"round\":\"\",\"width\":\"3.2rem\",\"height\":\"3.2rem\"}}),_vm._v(\" \"),_c('span',{staticClass:\"name inline-block\"},[_vm._v(\"\\n            \"+_vm._s(item === undefined ? '' : item.name)+\"\\n          \")]),_vm._v(\" \"),_c('van-rate',{attrs:{\"value\":item.star,\"size\":25,\"color\":\"#ffd21e\",\"void-icon\":\"star\",\"void-color\":\"#eee\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"txt van-multi-ellipsis--l2 comment\"},[_vm._v(\"\\n          \"+_vm._s(item === undefined ? '' : item.content)+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(\"\\n          评论时间：\\n          \"+_vm._s(item === undefined ? '' : item.datetime)+\"\\n        \")]),_vm._v(\" \"),(index !== _vm.comments.length - 1)?_c('van-divider'):_vm._e()],1)})},proxy:true}])}),_vm._v(\" \"),_c('van-divider',{style:({ color: '#aaa', borderColor: '#bbb', padding: '0 16px' })},[_vm._v(\"\\n    到底了\\n  \")]),_vm._v(\" \"),_c('van-goods-action',[_c('van-goods-action-icon',{attrs:{\"icon\":\"chat-o\",\"text\":\"客服\"}}),_vm._v(\" \"),_c('van-goods-action-icon',{attrs:{\"icon\":\"cart-o\",\"text\":\"购物车\",\"badge\":_vm.getCartsLength},on:{\"click\":function($event){return _vm.toPage('/MB/cart')}}}),_vm._v(\" \"),_c('van-goods-action-icon',{attrs:{\"icon\":\"shop-o\",\"text\":\"店铺\"}}),_vm._v(\" \"),_c('van-goods-action-button',{attrs:{\"type\":\"info\",\"text\":\"加入购物车\"},on:{\"click\":function($event){return _vm.addToCart()}}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text box space-between\"},[_c('div',{staticClass:\"select\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"选择\")]),_vm._v(\" \"),_c('span',{staticClass:\"txt\"},[_vm._v(\"请选择颜色分类\")])]),_vm._v(\" \"),_c('span',{staticClass:\"icon\"},[_vm._v(\" > \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6aa02d69\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/MB/pages/detail/GoodsDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6aa02d69\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GoodsDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6aa02d69\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6aa02d69\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/MB/pages/detail/GoodsDetail.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"card\">\r\n    <div v-if=\"hasTitle || 'false'\" class=\"title\">\r\n      <span class=\"title\">\r\n        {{ title }}\r\n      </span>\r\n      <span class=\"rightText\"> {{ rightText }} > </span>\r\n    </div>\r\n    <van-divider />\r\n    <slot name=\"content\" />\r\n  </div>\r\n</template>\r\n \r\n<script>\r\nexport default {\r\n  name: 'MyCard',\r\n  props: ['title', 'rightText', 'hasTitle'],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  margin: 1rem auto;\r\n  padding: 1rem;\r\n  width: 90%;\r\n  border-radius: 1rem;\r\n  background: #fff;\r\n}\r\n\r\n.card .title {\r\n  display: flex;\r\n  font-weight: 600;\r\n  justify-content: space-between;\r\n}\r\n\r\n.card .title .rightText {\r\n  color: #ddd;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/MB/components/Card.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[(_vm.hasTitle || 'false')?_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]),_vm._v(\" \"),_c('span',{staticClass:\"rightText\"},[_vm._v(\" \"+_vm._s(_vm.rightText)+\" > \")])]):_vm._e(),_vm._v(\" \"),_c('van-divider'),_vm._v(\" \"),_vm._t(\"content\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fe5adbce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/MB/components/Card.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fe5adbce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Card.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Card.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Card.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fe5adbce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Card.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fe5adbce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/MB/components/Card.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}