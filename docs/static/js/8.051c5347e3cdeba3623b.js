webpackJsonp([8],{"2gX5":function(t,s){},F7gr:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"card"},[(t.hasTitle,n("div",{staticClass:"title"},[n("div",[n("el-checkbox",{model:{value:t.goods.isChosen,callback:function(s){t.$set(t.goods,"isChosen",s)},expression:"goods['isChosen']"}}),t._v(" "),n("div",{staticClass:"shopName inline-block"},[t._v("\n        "+t._s(t.goods["店铺名称"]||"官方旗舰店")+"\n      ")])],1),t._v(" "),n("span",{staticClass:"rightText"},[t._v(" "+t._s(t.rightText)+" > ")])])),t._v(" "),n("van-divider"),t._v(" "),n("div",{staticClass:"goodsDetail"},[n("div",{staticClass:"img"},[n("van-image",{attrs:{width:"80px",height:"80px",src:t.getMainImg},on:{click:function(s){return t.toDetailPage()}}})],1),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"title van-multi-ellipsis--l2",on:{click:function(s){return t.toDetailPage()}}},[t._v("\n        "+t._s(t.goods["标题"])+"\n      ")]),t._v(" "),n("div",{staticClass:"bottom"},[n("span",{staticClass:"price inline-block"},[n("span",{staticClass:"rmb"},[t._v(" ¥ ")]),t._v(" "),n("span",{staticClass:"value"},[t._v("\n            "+t._s(t.getSum)+"\n          ")])]),t._v(" "),n("div",{staticClass:"count inline-block"},[n("van-stepper",{attrs:{"button-size":"22"},model:{value:t.goods.num,callback:function(s){t.$set(t.goods,"num",s)},expression:"goods['num']"}})],1)])])])],1)},staticRenderFns:[]};var e=n("VU/8")({name:"GoodsCard",props:["goods","rightText","hasTitle"],data:function(){return{num:1}},computed:{getMainImg:function(){return(this.goods["轮播图"]||"").split("/\r\n")[0]},getSum:function(){var t=this.goods;return t["价格"]*t.num}},methods:{handleChange:function(t){},toDetailPage:function(){this.$router.push({name:"detail",params:{id:this.goods.sku,goodsDetail:this.goods}})}}},o,!1,function(t){n("j3XX")},"data-v-bf8e8a72",null).exports,i=n("Fd2+"),a={name:"Cart",components:{GoodsCard:e},data:function(){return{goodsList:[],allChecked:!1}},methods:{onSubmit:function(){console.log(this.goodsList);var t=!1;this.goodsList.forEach(function(s){s.isChosen&&(t=!0)}),t?Object(i.a)({message:"感谢您的支持，但您的余额似乎不足！",icon:"https://img.yzcdn.cn/vant/logo.png",overlay:!0}):Object(i.a)({message:"您还没有选择商品！",icon:"https://img.yzcdn.cn/vant/logo.png",overlay:!0})},changeSelectAll:function(){var t=this;this.getIsAllChosen?this.goodsList.forEach(function(s){t.$set(s,"isChosen",!1)}):this.goodsList.forEach(function(s){t.$set(s,"isChosen",!0)})}},computed:{getCartsLength:function(){var t=this.$store.state.userInfo;return void 0===t||null===t?0:t.carts.length},getIsAllChosen:function(){var t=!0;return this.goodsList.forEach(function(s){!1===s.isChosen&&(t=!1)}),!0===t},getCheckedGoodsValue:function(){var t=0;return this.goodsList.forEach(function(s){!0===s.isChosen&&(t+=s.num*s["价格"])}),t}},created:function(){var t=this,s=this.$store.state.userInfo;if(void 0===s||null===s)return[];var n=s.carts;console.log(n),n.forEach(function(s,n){t.$set(s,"isChosen",!1)}),this.goodsList=n}},c={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{attrs:{id:"cart"}},[n("div",{staticClass:"top"},[t._m(0),t._v(" "),n("div",[t._v("总计"+t._s(t.getCartsLength)+"件宝贝")])]),t._v(" "),n("div",{staticClass:"goodsList"},t._l(t.goodsList,function(t,s){return n("goods-card",{key:s,attrs:{goods:t}})}),1),t._v(" "),n("div",{staticClass:"bottom"},[n("el-checkbox",{attrs:{value:t.getIsAllChosen},on:{change:function(s){return t.changeSelectAll()}}},[t._v("全选")]),t._v(" "),n("div",{staticClass:"sum"},[t._v("\n      总价格：\n      "),n("span",{staticClass:"rmb"},[t._v(" ¥ ")]),t._v(" "),n("span",{staticClass:"total inline-block"},[t._v("\n        "+t._s(t.getCheckedGoodsValue)+"\n      ")]),t._v(" "),n("van-button",{attrs:{round:"",type:"info",size:"small"},on:{click:function(s){return t.onSubmit()}}},[t._v("订单结算")])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"first-line"},[s("h1",[this._v("购物车")]),this._v(" "),s("div",{staticClass:"rightBtn"},[this._v("管理")])])}]};var r=n("VU/8")(a,c,!1,function(t){n("2gX5")},"data-v-16f7f4ee",null);s.default=r.exports},j3XX:function(t,s){}});
//# sourceMappingURL=8.051c5347e3cdeba3623b.js.map